import{_ as x,u as C,a as B,b as I,r as s,c as E,w as F,d as p,o as Q,e as S,f as t,g as l,h as e,i,j,t as O,k as K,l as M,m as P,n as T,p as U,q as z,s as D}from"./index-6ab14111.js";const y=d=>(U("data-v-b9dd8b5c"),d=d(),z(),d),W={class:"login-container columnCC"},q=y(()=>i("h1",{class:"login-title"}," Welcome Back ! ",-1)),A=y(()=>i("span",{class:"login-message"}," Login to continue using Board. ",-1)),G={class:"tip-message"},H=P({}),J=Object.assign(H,{__name:"Login",setup(d){const v=C(),b=B(),_=I().formRules,f=s(void 0);s(void 0),s(void 0);const r=s({});s(!1),s({email:null});const u=s(!1);s(!1);const k=s(""),c=E({otherQuery:{},redirect:void 0}),L=o=>Object.keys(o).reduce((n,a)=>(a!=="redirect"&&(n[a]=o[a]),n),{});F(()=>b.query,o=>{o&&(c.redirect=o.redirect,c.otherQuery=L(o))},{immediate:!0});const g=()=>{f.value.validate(o=>{u.value=!0,o?V():u.value=!1})},V=()=>{D("登入成功"),v.push({path:c.redirect||"/",query:c.otherQuery}),u.value=!1};return(o,n)=>{const a=T,h=p("el-input"),w=p("el-form-item"),N=p("el-button"),R=p("el-form");return Q(),S("div",W,[t(R,{ref_key:"refLoginForm",ref:f,class:"login-form",model:e(r),rules:e(_)},{default:l(()=>[q,A,t(w,{class:"mt-10",prop:"keyword",rules:e(_).isNotNull("Email為必填")},{default:l(()=>[t(h,{modelValue:e(r).keyword,"onUpdate:modelValue":n[0]||(n[0]=m=>e(r).keyword=m),placeholder:"Email"},{prepend:l(()=>[i("span",null,[t(a,{"icon-class":"user"})])]),_:1},8,["modelValue"])]),_:1},8,["rules"]),t(w,{prop:"password",rules:e(_).isNotNull("Password為必填")},{default:l(()=>[t(h,{key:"password",modelValue:e(r).password,"onUpdate:modelValue":n[1]||(n[1]=m=>e(r).password=m),type:"password",name:"password",placeholder:"Password",onKeyup:j(g,["enter"])},{prepend:l(()=>[i("span",null,[t(a,{"icon-class":"password"})])]),_:1},8,["modelValue"])]),_:1},8,["rules"]),i("div",G,O(e(k)),1),t(N,{loading:e(u),type:"primary",size:"default",class:"mb-4",onClick:K(g,["prevent"])},{default:l(()=>[M(" Log In ")]),_:1},8,["loading"])]),_:1},8,["model","rules"])])}}}),Y=x(J,[["__scopeId","data-v-b9dd8b5c"]]);export{Y as default};
